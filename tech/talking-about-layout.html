<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>谈谈布局 - Tinple</title>
    <script>if (top !== self) top.location = self.location;</script>
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="/static/yue.css?v=f93f9" />
    <link rel="stylesheet" href="/static/pygments.css?v=7ca64" />
    <link rel="stylesheet" href="/static/style.css?v=e3dd7" />
    
    <link rel="alternate" type="application/rss+xml" href="/feed" title="Tinple" />
    <!--[if lt IE 9]>
        <script type="text/javascript" src="/static/html5shiv.js?v=9a10c"></script>
        <![endif]-->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-43822965-1']);
      _gaq.push(['_trackPageview']);
      _gaq.push(['_trackPageLoadTime']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
<link rel="canonical" href="/tech/talking-about-layout" />


  </head>
  <body>
    <header id="header">
      <div class="container">
        <div id="brand"><a href="/">Tinple</a></div>
        <nav id="nav" role="navigation">
          
          <a href="/archive">Blog</a>
          <a href="/life/">Life</a>
          <a href="/tech/">Tech</a>
          <a href="/resume">Résumé</a>
        </nav>
      </div>
    </header>

    <div id="main">
      <div class="container yue"><div class="hentry">
    <h1 class="entry-title">谈谈布局</h1>
    <div class="entry-meta">
        <time class="updated" datetime="2015-01-28T00:00:00+08:00" pubdate>
            <a href="/2015/">2015-01-28</a>
        </time>
        <span class="author vcard">
            by <span class="fn">Tinple</span>
        </span>
    </div>
    <div class="entry-content">
        <p>最初接触到前端是在大一，跟很多人一样，是从模仿写一个页面开始的。当时理所当然的拿了学校主页去写，
且暂不说第一次写得多么难堪，那个时候我只是想着自己布局一定要布好，这也成为了当时的一种动力，觉得写一个前端，以布局为大。</p>

<h2 id="toc_0">一些历史</h2>
<p>犹记得那个时候的学校首页是用<code>table</code>来布局的，一种很古老的布局方式。它用一系列复杂的嵌套的行跟列来标识<code>Header</code>、<code>Navigation</code>、<code>Footer</code>等等语义化的标签。这也是我后来了解到的很久以前开发者们在网页布局的方式。而当时自己模仿写的时候是采用了另外两种布局方式的，一种是流动式的布局，一种则是<code>div</code>
跟<code>position</code>的定位布局。</p>
<p>然而前端的变化发展很快，开发者们认为当今<code>html</code>应该更具语义化，为了日后项目维护的可持续和方便性。所以也就有了语义化的布局，不再是<code>&lt;div id=&quot;header&quot;&gt;</code>，或许这种更符合当今开发者们对<code>html</code>语义化的理解。</p>
<div class="highlight"><pre><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;header&gt;&lt;h1&gt;</span>Header<span class="nt">&lt;/h1&gt;&lt;/header&gt;</span>
    <span class="nt">&lt;article&gt;</span>
        <span class="nt">&lt;h1&gt;</span>Title<span class="nt">&lt;/h1&gt;</span>
        <span class="nt">&lt;p&gt;</span>balabala<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;/article&gt;</span>
    <span class="nt">&lt;aside&gt;&lt;h1&gt;</span>Aside<span class="nt">&lt;/h1&gt;&lt;/aside&gt;</span>
    <span class="nt">&lt;footer&gt;&lt;h1&gt;</span>Footer<span class="nt">&lt;/h1&gt;&lt;/footer&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>
<p>又或者，如果你接触过很多css的framework，你可能听过<code>grid</code>这词，一种内嵌在框架中的栅格系统。最初自己接触到这词是在<a href="http://www.blueprintcss.org/">blueprint</a>框架中，后来再次遇见是在
<a href="http://getbootstrap.com/">bootstrap</a>中。前者只提供预定义宽度的列，而后者亦适用于流动式布局，
更侧重响应式、mobile-first。</p>
<div class="highlight"><pre><span class="c">/* blueprint */</span>
<span class="nc">.span-1</span> <span class="p">{</span><span class="k">width</span><span class="o">:</span> <span class="m">30px</span><span class="p">}</span>
<span class="nc">.span-2</span> <span class="p">{</span><span class="k">width</span><span class="o">:</span> <span class="m">70px</span><span class="p">}</span>
<span class="nc">.span-3</span> <span class="p">{</span><span class="k">width</span><span class="o">:</span> <span class="m">110px</span><span class="p">}</span>
<span class="nc">.span-4</span> <span class="p">{</span><span class="k">width</span><span class="o">:</span> <span class="m">150px</span><span class="p">}</span>

<span class="c">/* bootstrap2 */</span>
<span class="nc">.span1</span> <span class="p">{</span><span class="k">width</span><span class="o">:</span> <span class="m">60px</span><span class="p">}</span>
<span class="nc">.row-fluid</span> <span class="nc">.span1</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">6</span><span class="o">.</span><span class="m">382978723404255</span><span class="o">%</span><span class="p">;</span>
  <span class="o">*</span><span class="k">width</span><span class="o">:</span> <span class="m">6</span><span class="o">.</span><span class="m">329787234042553</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>如源码中所见，grids是为你预先定义好了固定宽度和媒体查询，你可以使用它所定义的这些类去布局。换句话说，
如果你想改变自己的布局你就需要相应的增删这些类名。</p>

<h2 id="toc_1"><a href="http://susy.oddbird.net/">Susy</a></h2>
<p>用过一段时间栅格系统后，我接触到了<code>Susy</code>。</p>

<blockquote>
<p>Your MARKUP, YOUR DESIGN, YOUR OPINIONS | OUR MATH.</p>
</blockquote>
<p>这是Susy官网的原话，很明显，Susy是完全根据开发者主观意想来为你构建不同grids的一种工具，这意味着你不再需要任何预先设定好的一系列的grids，你可以用susy自己来定义想要的grid，而且，它是完全分离css跟html的。
Susy有多简单？如果你用过<a href="http://compass-style.org">compass</a>，相信你会上手非常快。</p>
<p>比如我们构建一个最简单的页面，只包含content、sidebar和底部的gallery图标。</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>Content<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>Sidebar<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;gallery&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;gallery-item&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;http://placehold.it/100x100&quot;</span> <span class="na">alt=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<p>我们可以自己定义在最小屏幕分辨率600px下content和sidebar横向对齐，底部图标一横排开。而在手机页面则是content和
sidebar垂直挨着，底部图标呈两横四列。</p>
<p><img src="http://ttpphot.qiniudn.com/img.png" alt="desktop"/>
<img src="http://ttpphot.qiniudn.com/img2.png" alt="mobile"/></p>
<p>你可能想到媒体查询，没错，我们来看看使用Susy会有多畅快。</p>
<div class="highlight"><pre><span class="err">$</span><span class="nt">susy</span><span class="o">:</span> <span class="o">(</span> <span class="nt">column</span><span class="o">:</span> <span class="nt">12</span><span class="o">);</span>

<span class="nc">.content</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="o">:</span> <span class="m">#fbeecb</span><span class="p">;</span>
    <span class="o">@</span><span class="n">include</span> <span class="n">breakpoint</span><span class="p">(</span><span class="m">600px</span><span class="p">)</span> <span class="err">{</span>
        <span class="o">@</span><span class="n">include</span> <span class="n">span</span><span class="p">(</span><span class="m">8</span> <span class="n">of</span> <span class="m">12</span><span class="p">);</span>
    <span class="p">}</span>
<span class="err">}</span>

<span class="nc">.sidebar</span> <span class="p">{</span>
    <span class="k">background-color</span><span class="o">:</span> <span class="m">#71dad2</span><span class="p">;</span>
    <span class="o">@</span><span class="n">include</span> <span class="n">breakpoint</span><span class="p">(</span><span class="m">600px</span><span class="p">)</span> <span class="err">{</span>
        <span class="o">@</span><span class="n">include</span> <span class="n">span</span><span class="p">(</span><span class="m">4</span> <span class="n">of</span> <span class="m">12</span> <span class="n">last</span><span class="p">);</span>
    <span class="p">}</span>
<span class="err">}</span>

<span class="nc">.gallery</span> <span class="p">{</span>
    <span class="o">@</span><span class="n">include</span> <span class="n">clearfix</span><span class="p">;</span>
    <span class="k">background</span><span class="o">:</span> <span class="nb">black</span><span class="p">;</span>
    <span class="k">padding</span><span class="o">:</span> <span class="n">gutter</span><span class="p">();</span>
    <span class="o">.</span><span class="n">gallery</span><span class="o">-</span><span class="n">item</span> <span class="err">{</span>
        <span class="o">@</span><span class="n">include</span> <span class="n">gallery</span><span class="p">(</span><span class="m">2</span> <span class="n">of</span> <span class="m">8</span><span class="p">);</span>
        <span class="k">margin-bottom</span><span class="o">:</span> <span class="n">gutter</span><span class="p">(</span><span class="m">8</span><span class="p">);</span>

        <span class="o">@</span><span class="n">include</span> <span class="n">breakpoint</span><span class="p">(</span><span class="m">600px</span><span class="p">)</span> <span class="err">{</span>
            <span class="o">@</span><span class="n">include</span> <span class="n">gallery</span><span class="p">(</span><span class="m">1</span> <span class="n">of</span> <span class="m">8</span><span class="p">);</span>
            <span class="k">margin-bottom</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="err">}</span>
<span class="err">}</span>
</pre></div>
<p>抛开其他繁琐的问题，我们只关注Susy如何快速构建我们所要的布局，我们先声明了Susy全局默认下应该有12列，然后根据
<a href="breakpoint-sass.com">breakpoint</a>这个<a href="http://sass-lang.com/documentation/file.SASS_REFERENCE.html#mixins">mixin</a>来进行媒体查询。你可能疑惑breakpoint最后输出的媒体查询是什么样的。</p>
<div class="highlight"><pre><span class="k">@media</span> <span class="o">(</span><span class="nt">min-width</span><span class="o">:</span> <span class="nt">600px</span><span class="o">)</span> <span class="p">{</span>
    <span class="nc">.content</span> <span class="p">{</span>
        <span class="k">width</span><span class="o">:</span> <span class="m">66</span><span class="o">.</span><span class="m">10169</span><span class="o">%</span><span class="p">;</span>
        <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
        <span class="k">margin-right</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">69492</span><span class="o">%</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p>没错，这就是我们预先定义最小屏幕分辨率下的媒体查询，然后我们使用<code>span</code>函数来声明content和sidebar分别占据的宽度，
<code>span(8 of 12)</code>代表content占据整个12列宽度的8列，你可能会对<code>of</code>关键字感兴趣，实际上，Susy的这个函数还有许多关键字都有特定含义，比如<code>at</code>，<code>last</code>。Susy会自动帮你计算出特定条件下的宽度，当然它还拥有许多<a href="http://susydocs.oddbird.net/en/latest/toolkit/">toolkit</a>比如gallery。</p>
<p>如果你此时对Susy感兴趣，你可以移步官网去获取更多资源。实际上，接触Susy后我一直在使用Susy，当然你可能还需要去接触sass、compass
等等。</p>

<h2 id="toc_2">Flexbox</h2>
<p>Susy面向传统的布局设计，你可以依靠它把各种浏览器兼容抛开。然而如果不讲兼容性，<code>Flexbox</code>绝对是大杀器。</p>

<blockquote>
<p>Child elements in a flexbox can be laid out in any direction and can have flexible dimensions to adapt
to the display space.</p>
</blockquote>
<p>你可以在<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Flexible_boxes">MDN</a>上获取相关的文档。
拿一个含有header、article、sidebar和footer的页面来说，flexbox看起来是这样的。</p>
<div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;header&gt;</span>Header<span class="nt">&lt;/header&gt;</span>
    <span class="nt">&lt;article&gt;</span>Article<span class="nt">&lt;/article&gt;</span>
    <span class="nt">&lt;aside&gt;</span>Aside<span class="nt">&lt;/aside&gt;</span>
    <span class="nt">&lt;footer&gt;</span>Footer<span class="nt">&lt;/footer&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
<div class="highlight"><pre><span class="nf">#container</span> <span class="p">{</span>
  <span class="k">display</span><span class="o">:</span> <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">flex</span><span class="p">;</span>
  <span class="k">display</span><span class="o">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">flex</span><span class="o">-</span><span class="n">flow</span><span class="o">:</span> <span class="n">row</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="n">flex</span><span class="o">-</span><span class="n">flow</span><span class="o">:</span> <span class="n">row</span> <span class="n">wrap</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#container</span> <span class="nt">header</span><span class="o">,</span> <span class="nf">#container</span> <span class="nt">footer</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">flex</span><span class="o">:</span> <span class="m">1</span> <span class="m">0</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
  <span class="n">flex</span><span class="o">:</span> <span class="m">1</span> <span class="m">0</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#container</span> <span class="nt">header</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#4dff4d</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#container</span> <span class="nt">footer</span> <span class="p">{</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#ffffcc</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#container</span> <span class="nt">article</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">flex</span><span class="o">:</span> <span class="m">2</span> <span class="m">1</span> <span class="m">30em</span><span class="p">;</span>
  <span class="n">flex</span><span class="o">:</span> <span class="m">2</span> <span class="m">1</span> <span class="m">30em</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#ff4dff</span><span class="p">;</span>
<span class="p">}</span>
<span class="nf">#container</span> <span class="nt">aside</span> <span class="p">{</span>
  <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">flex</span><span class="o">:</span> <span class="m">1</span> <span class="m">0</span> <span class="m">15em</span><span class="p">;</span>
  <span class="n">flex</span><span class="o">:</span> <span class="m">1</span> <span class="m">0</span> <span class="m">15em</span><span class="p">;</span>
  <span class="k">background</span><span class="o">:</span> <span class="m">#ccccff</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
<p>在Flexbox中，我们可以自动调整子元素的高和宽，来很好的填充任何显示设备中的可用显示空间，收缩内容防止内容溢出。</p>

<h2 id="toc_3">Summary</h2>
<p>目前自己常用的是Susy，但相信未来<code>Flexbox</code>也将大放光彩。</p>

<h2 id="toc_4">Reference</h2>
<p><a href="https://css-tricks.com/build-web-layouts-easily-susy/">build-web-layouts-easily-susy</a>
<a href="https://developer.mozilla.org/zh-CN/docs/CSS/Tutorials/Using_CSS_flexible_boxes">Using_css_flexible_boxes</a></p>

    </div>

    

    <div class="entry-tags">
        
    </div>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'tinple';
        var disqus_title = '谈谈布局';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    
</div></div>
    </div>

    <footer id="footer">
      <div class="end"></div>
      <nav class="elsewhere">
        <a href="https://github.com/Tinple">Github</a><a href="https://twitter.com/htinple">Twitter</a><a href="http://weibo.com/tinple">Weibo</a>
      </nav>
    </footer>
    <script type="text/javascript" src="/static/mobile.js?v=3b6df"></script>
    
  </body>
</html>